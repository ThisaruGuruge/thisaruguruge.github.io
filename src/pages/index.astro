---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { getCollection } from 'astro:content';
import ProjectCard from '../components/ProjectCard.astro';

const projects = await getCollection('projects');
const featuredProjects = projects.filter(p => p.data.featured);
---

<Layout title="Home | Thisaru Guruge" description="The personal website of Thisaru â€” software engineer, musician, wildlife photographer, environmentalist, and writer.">
	<Header />
	<main>
		<section class="py-20">
			<div class="container">
				<div class="grid md:grid-cols-2 gap-12 items-center">
					<div class="space-y-6">
						<h1 class="heading-1 text-text dark:text-[#f1f1f1]">
							Hey, I'm <span class="text-accent-cyan dark:text-accent-cyan"> Thisaru</span>
						</h1>
						<p class="text-lg text-gray-700 dark:text-gray-300">
							I'm a software engineer passionate about building beautiful, functional, and user-friendly applications.
							When I'm not coding, you'll find me exploring wildlife photography, playing guitar, or contributing to causes I care about.
						</p>
						<div class="flex space-x-4">
							<a
								href="/projects/"
								class="inline-flex items-center px-6 py-3 rounded-lg bg-accent-cyan text-background font-medium hover:bg-opacity-90 transition-colors"
							>
								View Projects
							</a>
							<a
								href="/thoughts/"
								class="inline-flex items-center px-6 py-3 rounded-lg border border-accent-cyan text-accent-cyan font-medium hover:bg-accent-cyan hover:bg-opacity-10 transition-colors"
							>
								Read Blog
							</a>
						</div>
					</div>
					<div class="relative aspect-square rounded-2xl overflow-hidden">
						<img
							src="/images/profile/profile.webp"
							alt="Thisaru's profile photo"
							class="object-cover w-full h-full"
							width="500"
							height="500"
							loading="lazy"
						/>
					</div>
				</div>
			</div>
		</section>

		<section class="py-20 bg-gray-50 dark:bg-gray-900">
			<div class="container">
				<h2 class="heading-2 text-center mb-12">Featured Projects</h2>
				<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
					{featuredProjects.length === 0 ? (
						<p class="col-span-full text-center text-gray-400">No featured projects yet.</p>
					) : (
						featuredProjects.map((project) => (
							<ProjectCard {...project.data} />
						))
					)}
				</div>
				<div class="text-center mt-12">
					<a
						href="/projects/"
						class="inline-flex items-center px-6 py-3 rounded-lg border border-accent-orange text-accent-orange font-medium hover:bg-accent-orange hover:bg-opacity-10 transition-colors"
					>
						View All Projects
					</a>
				</div>
			</div>
		</section>
	</main>
	<Footer />
</Layout>
